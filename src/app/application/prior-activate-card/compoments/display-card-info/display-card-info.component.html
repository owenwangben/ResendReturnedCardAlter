<div class="content">
  <section class="trans-content">
    <fieldset class="fieldset-block pink-legend">
      <legend>卡片啟用</legend>
      <div class="cardblock center mt1" *ngIf="model">
        <div class="cardimg"><img src="{{cardImagePath}}" alt="卡片名稱"
          onerror="this.onerror='' ;this.src='/mma8/card/images/card-lost/default.png'"></div>
        <a class="flex-box flex-end togglebtn" href="javascript:void(0)" (click)="toggleSensitiveData()">
          <i class="icon icon-toggle"></i><span class="normal">{{ hideSensitiveData ? '顯示內容' : '隱藏內容'}}</span>
        </a>
      </div>
      <div class="confirm-data-block">
        <table>
          <tbody>
            <tr>
              <th>核卡日</th>
              <td>{{model?.ApproveDate}}</td>
            </tr>
            <tr>
              <th>優先啟用碼失效日</th>
              <td>{{model?.PriorActivateExpDate}}</td>
            </tr>
            <tr>
              <th>卡片名稱</th>
              <td>{{model?.CardName}}</td>
            </tr>
            <tr>
              <th>國際組織/卡別</th>
              <td>{{model?.CardTypeName}}</td>
            </tr>
            <tr>
              <th>卡號</th>
              <td>
                <div class="flex-box warp"><span id="creditcard-number">{{model?.CardNo | mask:
                    '0000-0000-0000-0000'|
                    cardnumbermask:'7-8,10-13':'●':hideSensitiveData}}</span>
                </div>
              </td>
            </tr>
            <tr>
              <th>有效期限(MM/YY)</th>
              <td> <span id="creditcard-date">{{model?.ExpDate | mask: '00/00'|
                  cardnumbermask:'0-1,3-4':'●':hideSensitiveData}}</span></td>
            </tr>
            <tr>
              <th>安全碼(CVV2)</th>
              <td> <span id="creditcard-code">{{model?.CVV2|
                  cardnumbermask:'0-2':'●':hideSensitiveData}}</span></td>
            </tr>
            <tr>
              <th>中文姓名</th>
              <td>{{model?.CName}}</td>
            </tr>
            <tr>
              <th>英文姓名</th>
              <td>{{model?.EName}}</td>
            </tr>
            <tr>
              <th>信用額度</th>
              <td>{{ model ? 'TWD' : ''}} {{model?.PermanentCreditLimit | number}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </fieldset>
  </section>
</div>
<ng-container *ngIf="model">
  <ng-container *ngIf="!model?.IsPriorActivated && !submitted">
    <div class="prfy center">
      <p>立即啟用，消費不用等實體卡片</p>
    </div>
    <div class="btn-zone flex-inline-min">
      <input class="nbtn focus" id="next" type="submit" value="立即啟用" (click)="onSubmit()">
    </div>
  </ng-container>
  <div class="content" loadHtml="/mma8/card/htmls/優先啟用碼卡號資訊查詢注意事項.html">
  </div>
</ng-container>
